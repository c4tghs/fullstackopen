{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Title.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","removeEntry","name","number","onClick","Persons","persons","searchName","remoteEntry","map","length","search","key","PersonForm","addPerson","handleChange","newName","setNewName","newNumber","setNewNumber","onSubmit","value","onChange","type","Title","text","Filter","setSearchName","baseUrl","newObject","axios","post","then","response","data","get","id","delete","put","Notification","message","success","className","App","useState","setPersons","notification","setNotification","notificationType","setNoticationType","useEffect","personService","initialPersons","catch","error","console","log","showMessage","func","event","target","setTimeout","preventDefault","personObject","find","element","updatedPerson","Object","assign","window","confirm","returnedPerson","concat","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce93103d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person =({person,removeEntry}) => {\r\n    return (\r\n        <tr>\r\n            <td>{person.name}</td>\r\n            <td>{person.number}</td>\r\n            <td><button onClick={() => removeEntry(person)}>Delete</button></td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default Person","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({persons, searchName, remoteEntry}) => {\r\n    return (\r\n        <div>\r\n            <table>\r\n                <tbody>\r\n                    {\r\n                        persons.map((person) => {\r\n                            if (searchName.length === 0 || person.name.search(searchName) !== -1) {\r\n                                return (\r\n                                  <Person key={person.name} person={person} removeEntry={remoteEntry} />\r\n                                )\r\n                            }\r\n                            else {\r\n                                return []\r\n                            }\r\n\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from \"react\";\r\n\r\nconst PersonForm =({addPerson, handleChange,newName,setNewName,newNumber, setNewNumber}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleChange(setNewName)} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleChange(setNewNumber)} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\nconst Title = ({text}) => {\r\n    return (\r\n        <h2>{text}</h2>\r\n    )\r\n}\r\n\r\nexport default Title","import React from \"react\"\r\nconst Filter = ({searchName, handleChange, setSearchName}) => {\r\n    return (\r\n        <div>\r\n            filter shown with: <input value={searchName} onChange={handleChange(setSearchName)} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = 'https://rocky-earth-30698.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {create,getAll,remove, update}","import React from \"react\"\r\nconst Notification = ({ message, success}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if(success){\r\n        return (\r\n            <div className='success'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return (\r\n            <div className='error'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Title from './components/Title'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [searchName, setSearchName] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n  const [notificationType, setNoticationType] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      setPersons(initialPersons)\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      showMessage(\"Could not retrieve data\",false)\r\n    })\r\n  }, [])\r\n\r\n\r\n  const handleChange = (func) => (event) => {\r\n    func(event.target.value)\r\n  }\r\n\r\n  const showMessage =(message, notificationType=true) => {\r\n    setNotification(message);\r\n    setNoticationType(notificationType)\r\n\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n      setNoticationType(null);\r\n    }, 3000);\r\n  }\r\n  \r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject ={\r\n      name:newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.find(person => person.name === newName)){  \r\n        let person = persons.find(element => element.name === newName);\r\n        let updatedPerson = Object.assign(person,personObject)\r\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n          personService\r\n            .update(person.id, personObject)\r\n            .then(() => {\r\n              setPersons(persons.map(element => (element.name === newName ? updatedPerson:element)))\r\n              setNewName('')\r\n              setNewNumber('')\r\n              showMessage(`${updatedPerson.name}'s phone number has been updated`) \r\n            })\r\n\r\n        }\r\n    }\r\n    else{\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          showMessage(`Added ${personObject.name}`)          \r\n        })\r\n      \r\n    }\r\n  }\r\n\r\n  const removeEntry = person => {\r\n    if(window.confirm(`Remove ${person.name}?`)){\r\n      personService\r\n        .remove(person.id)\r\n        .then(() => {\r\n          setPersons(persons.filter(element => element.id !== person.id));\r\n          showMessage(`${person.name} has been removed from the phone book`)\r\n        })\r\n        .catch(error => {\r\n          showMessage(`Information of ${person.name} has already been removed from server`,false)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Title text=\"Phonebook\"/>\r\n      <Notification message={notification} success={notificationType}/>\r\n      <Filter searchName={searchName} handleChange={handleChange} setSearchName={setSearchName} />\r\n      <Title text=\"add a new\"/>\r\n\r\n      <PersonForm addPerson={addPerson} handleChange={handleChange} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber}/>\r\n      <Title text=\"Numbers\"/>\r\n      \r\n      <div>\r\n        <Persons persons={persons} searchName={searchName} remoteEntry={removeEntry}/>\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from \"react\"\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}